<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>대왕중3 내신 대비 사이트</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', 'Inter', sans-serif;
            background-color: #f3f4f6;
        }
        .tab {
            cursor: pointer;
            padding: 0.75rem 1.5rem;
            color: #4B5563;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
            font-weight: 500;
            white-space: nowrap;
        }
        .tab:hover {
            background-color: #e5e7eb;
            color: #111827;
        }
        .tab.active {
            color: #4338ca;
            border-bottom-color: #4338ca;
            font-weight: 700;
        }
        .question-card {
            background-color: white;
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06);
        }
        .prose-box {
            background-color: #f9fafb;
            border: 1px solid #e5e7eb;
            padding: 1rem;
            margin-bottom: 1rem;
            border-radius: 0.5rem;
            font-size: 0.95em;
            line-height: 1.6;
            white-space: pre-wrap;
        }
        .option-label {
            display: block;
            padding: 0.75rem 1rem;
            border: 1px solid #d1d5db;
            border-radius: 0.5rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .option-label:hover {
            background-color: #f3f4f6;
        }
        input[type="radio"]:checked + .option-label {
            background-color: #e0e7ff;
            border-color: #4338ca;
            color: #4338ca;
            font-weight: 600;
        }
        input[type="radio"] {
            display: none;
        }
        .correct {
            background-color: #dcfce7 !important;
            border-color: #22c55e !important;
            color: #15803d !important;
        }
        .incorrect {
            background-color: #fee2e2 !important;
            border-color: #ef4444 !important;
            color: #991b1b !important;
        }
        #submission-status {
            display: none;
            margin-top: 1rem;
            padding: 0.75rem;
            border-radius: 0.5rem;
            text-align: center;
        }
        #submission-status.success {
            background-color: #d1fae5;
            color: #065f46;
        }
        #submission-status.error {
            background-color: #fee2e2;
            color: #991b1b;
        }
    </style>
</head>
<body class="bg-gray-100">

    <div class="container mx-auto p-4 md:p-8">
        <header class="text-center mb-8">
            <h1 class="text-4xl md:text-5xl font-bold text-gray-900">대왕중3 내신 대비 사이트</h1>
        </header>

        <nav class="mb-8 bg-white rounded-lg shadow-md">
            <div id="tab-container" class="flex border-b border-gray-200 overflow-x-auto">
                <!-- Tabs will be inserted here by JS -->
            </div>
        </nav>

        <main id="content-area">
            <!-- Test content will be loaded here -->
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 여기에 구글 앱 스크립트 배포 후 생성된 URL을 입력하세요.
            const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbx2Pa_asbIDPeL8BOZlLtrY2rIEU33ObPHVzqm7UmyhfgDym9i_zb0RpAWcFpyQk5Rj/exec'; 

            const examData = {
                test1: {
                    title: '실전 테스트 1',
                    questions: [
                        { work: '국어의 음운', type: '개념 이해', question: "단어의 뜻을 구별해 주는 가장 작은 소리의 단위를 무엇이라고 하는가?", options: ["형태소", "음절", "음운", "단어", "어절"], answer: 2, explanation: "음운은 단어의 뜻을 구별해 주는 가장 작은 소리의 단위입니다. 예를 들어 '발'과 '달'은 초성 자음 'ㅂ'과 'ㄷ'의 차이로 뜻이 구별되므로 'ㅂ'과 'ㄷ'은 음운입니다." },
                        { work: '국어의 음운', type: '종류 파악', question: "우리말 음운의 종류에 해당하지 않는 것은?", options: ["자음", "모음", "소리의 길이", "소리의 높낮이"], answer: 3, explanation: "우리말의 음운에는 자음, 모음, 그리고 '눈(雪)'과 '눈(目)'처럼 단어의 뜻을 구별하는 '소리의 길이'가 포함됩니다. 소리의 높낮이(성조)는 현대 국어의 표준어에서는 음운의 기능을 하지 않습니다." },
                        { work: '국어의 음운', type: '자음/모음 구분', question: "발음할 때 공기의 흐름이 발음 기관의 방해를 받지 않고 나는 소리는?", options: ["자음", "모음", "반모음", "울림소리"], answer: 1, explanation: "모음은 발음할 때 공기의 흐름이 발음 기관의 방해를 받지 않고 순조롭게 나오는 소리입니다. 반면 자음은 공기의 흐름이 방해를 받으며 나는 소리입니다." },
                        { work: '국어의 음운', type: '단모음/이중모음', question: "다음 중 발음할 때 입술 모양이나 혀의 위치가 변하는 '이중 모음'은?", options: ["ㅏ", "ㅔ", "ㅗ", "ㅑ"], answer: 3, explanation: "'ㅑ'는 [ㅣ]에서 [ㅏ]로 입술 모양과 혀의 위치가 움직이며 소리 나는 이중 모음입니다. 'ㅏ, ㅔ, ㅗ'는 입술과 혀가 고정된 채 소리 나는 단모음입니다." },
                        { work: '국어의 음운', type: '단모음 체계', question: "단모음 'ㅣ'와 'ㅡ'를 구분하는 기준은 무엇인가?", options: ["혀의 높이", "입술 모양", "혀의 앞뒤 위치", "소리의 길이"], answer: 2, explanation: "'ㅣ'는 혀의 최고점이 앞쪽에 있는 전설 모음이고, 'ㅡ'는 혀의 최고점이 뒤쪽에 있는 후설 모음입니다. 따라서 두 모음은 '혀의 앞뒤 위치'에 따라 구분됩니다." },
                        { work: '국어의 음운', type: '단모음 체계', question: "단모음 'ㅔ'와 'ㅐ'를 구분하는 기준은 무엇인가?", options: ["혀의 높이", "입술 모양", "혀의 앞뒤 위치", "소리의 세기"], answer: 0, explanation: "'ㅔ'는 혀의 높이가 중간인 중모음이고, 'ㅐ'는 혀의 높이가 낮은 저모음입니다. 따라서 두 모음은 '혀의 높이'에 따라 구분됩니다." },
                        { work: '국어의 음운', type: '단모음 체계', question: "다음 중 입술을 동그랗게 오므려 소리 내는 '원순 모음'으로만 짝지어진 것은?", options: ["ㅏ, ㅓ", "ㅣ, ㅔ", "ㅗ, ㅜ, ㅚ, ㅟ", "ㅡ, ㅓ"], answer: 2, explanation: "원순 모음은 발음할 때 입술이 동그래지는 모음으로, 국어의 단모음 중에는 'ㅗ, ㅜ, ㅚ, ㅟ'가 해당됩니다." },
                        { work: '국어의 음운', type: '자음 체계', question: "자음을 분류하는 기준 중, 소리가 만들어지는 위치와 관련 있는 것은?", options: ["파열음, 파찰음, 마찰음", "예사소리, 된소리, 거센소리", "콧소리, 흐름소리", "입술소리, 잇몸소리, 목청소리"], answer: 3, explanation: "자음은 소리가 만들어지는 위치(조음 위치)에 따라 입술소리, 잇몸소리, 센입천장소리, 여린입천장소리, 목청소리로 나뉩니다." },
                        { work: '국어의 음운', type: '자음 체계', question: "다음 자음 중, 두 입술 사이에서 나는 소리(입술소리)가 아닌 것은?", options: ["ㅂ", "ㅍ", "ㅁ", "ㄴ"], answer: 3, explanation: "'ㅂ, ㅍ, ㅁ'은 모두 두 입술 사이에서 나는 소리입니다. 'ㄴ'은 혀끝을 윗잇몸에 대고 내는 잇몸소리입니다." },
                        { work: '국어의 음운', type: '자음 체계', question: "자음 'ㅅ'과 'ㅎ'의 공통적인 조음 방법은 무엇인가?", options: ["파열음", "파찰음", "마찰음", "콧소리"], answer: 2, explanation: "'ㅅ'과 'ㅎ'은 입안이나 목청 사이의 통로를 좁히고, 그 틈으로 공기를 마찰시키며 내는 소리인 '마찰음'에 해당합니다." },
                        { work: '국어의 음운', type: '자음 체계', question: "발음할 때 코안이 울리면서 나는 소리인 '콧소리'에 해당하는 자음은?", options: ["ㄹ", "ㅅ", "ㅇ", "ㅎ"], answer: 2, explanation: "콧소리(비음)는 입안의 통로를 막고 공기를 코로 내보내면서 내는 울림소리로, 'ㄴ, ㅁ, ㅇ'이 있습니다." },
                        { work: '국어의 음운', type: '자음 체계', question: "자음 'ㄱ-ㄲ-ㅋ'의 관계처럼, 소리의 세기에 따라 구분되는 자음의 짝으로 옳은 것은?", options: ["ㄴ-ㄷ-ㅌ", "ㅅ-ㅆ-ㅊ", "ㅂ-ㅃ-ㅍ", "ㅇ-ㅎ-ㅋ"], answer: 2, explanation: "국어의 안울림소리는 소리의 세기에 따라 예사소리-된소리-거센소리의 3항 대립을 이룹니다. 'ㅂ(예사소리)-ㅃ(된소리)-ㅍ(거센소리)'가 올바른 짝입니다." },
                        { work: '국어의 음운', type: '음운 변동', question: "단어 '알록달록'과 '얼룩덜룩'에서 느껴지는 어감의 차이는 어떤 음운의 차이에서 비롯되는가?", options: ["자음의 조음 위치", "자음의 소리 세기", "모음의 종류(양성/음성)", "소리의 길이"], answer: 2, explanation: "우리말에서는 'ㅏ, ㅗ'와 같은 양성 모음이 밝고 가벼운 느낌을, 'ㅓ, ㅜ'와 같은 음성 모음이 어둡고 무거운 느낌을 줍니다. '알록달록'과 '얼룩덜룩'의 어감 차이는 이러한 모음의 차이에서 발생합니다." },
                        { work: '국어의 음운', type: '체계 종합', question: "혀의 위치가 뒤쪽(후설)이면서, 혀의 높이가 높고(고모음), 입술이 평평한(평순) 단모음은 무엇인가?", options: ["ㅣ", "ㅡ", "ㅜ", "ㅗ"], answer: 1, explanation: "후설-고모음-평순 모음의 조건을 모두 만족하는 단모음은 'ㅡ'입니다. 'ㅜ'는 원순 모음, 'ㅣ'는 전설 모음, 'ㅗ'는 중모음입니다." },
                        { work: '국어의 음운', type: '체계 종합', question: "혀끝을 윗잇몸에 대고(잇몸소리), 공기의 흐름을 막았다 터뜨리며(파열음), 숨을 거세게 내는(거센소리) 자음은?", options: ["ㄷ", "ㄸ", "ㅌ", "ㅅ"], answer: 2, explanation: "잇몸소리-파열음-거센소리의 조건을 모두 만족하는 자음은 'ㅌ'입니다. 'ㄷ'은 예사소리, 'ㄸ'은 된소리, 'ㅅ'은 마찰음입니다." },
                        { work: '국어의 음운', type: '개념 심화', question: "단어 '말[言]'과 '말[馬]'의 뜻을 구별해 주는 음운을 무엇이라고 하는가?", options: ["분절 음운", "비분절 음운", "대치 음운", "첨가 음운"], answer: 1, explanation: "소리의 길이나 억양처럼 다른 소리와 명확히 분리되지 않으면서 단어의 뜻을 구별하는 음운을 '비분절 음운' 또는 '운소'라고 합니다." },
                        { work: '국어의 음운', type: '발음 연습', question: "다음 중 'ㅔ'와 'ㅐ'의 발음을 정확히 구분하여 읽어야 의미가 달라지는 단어의 쌍은?", options: ["개가 많다/게가 많다", "내가 간다/네가 간다", "새것/세것", "배가 아프다/베가 아프다"], answer: 0, explanation: "'개'와 '게'는 각각 'ㅐ'와 'ㅔ'의 차이로 의미가 구별되므로, 두 모음을 정확히 발음해야 합니다." },
                        { work: '국어의 음운', type: '체계 이해', question: "다음 중 울림소리가 아닌 자음은?", options: ["ㄴ", "ㄹ", "ㅁ", "ㅂ"], answer: 3, explanation: "울림소리는 'ㄴ, ㄹ, ㅁ, ㅇ' 네 개입니다. 'ㅂ'은 입술을 막았다 터뜨리는 안울림소리(파열음)입니다." },
                        { work: '국어의 음운', type: '모음 체계', question: "단모음 'ㅚ'와 'ㅟ'는 원칙적으로 단모음이지만, 현대 국어에서는 무엇으로 발음하는 것도 허용되는가?", options: ["장모음", "이중 모음", "전설 모음", "후설 모음"], answer: 1, explanation: "표준 발음법에 따라 'ㅚ'와 'ㅟ'는 이중 모음 [we]와 [wi]로 발음하는 것도 허용됩니다." },
                        { work: '국어의 음운', type: '자음 체계', question: "다음 중 소리 내는 방법(조음 방법)이 다른 하나는?", options: ["ㅂ", "ㄷ", "ㄱ", "ㅈ"], answer: 3, explanation: "'ㅂ, ㄷ, ㄱ'은 공기의 흐름을 완전히 막았다가 터뜨리는 파열음입니다. 'ㅈ'은 공기를 막았다가 서서히 터뜨리면서 마찰을 일으키는 파찰음입니다." },
                        { work: '국어의 음운', type: '개념 적용', question: "단어 '감', '곰', '굼'은 어떤 음운의 차이로 뜻이 구별되는가?", options: ["초성 자음", "중성 모음", "종성 자음", "소리의 길이"], answer: 1, explanation: "세 단어는 초성 'ㄱ'과 종성 'ㅁ'은 같고, 중성 모음이 각각 'ㅏ, ㅗ, ㅜ'로 다르기 때문에 뜻이 구별됩니다." },
                        { work: '국어의 음운', type: '종합적 이해', question: "다음 설명에 해당하는 자음은? [혀의 뒷부분과 여린입천장 사이에서 나는 소리이며, 콧소리이다.]", options: ["ㄱ", "ㅋ", "ㅇ(초성)", "ㅇ(종성)"], answer: 3, explanation: "혀의 뒷부분과 여린입천장 사이에서 나는 소리(여린입천장소리)이면서 콧소리인 것은 종성(받침) 'ㅇ'입니다. 초성 'ㅇ'은 음가가 없습니다." },
                        { work: '국어의 음운', type: '모음 체계', question: "혀의 높이에 따라 고모음, 중모음, 저모음으로 나눌 때, 다음 중 저모음에 해당하는 것은?", options: ["ㅣ", "ㅡ", "ㅔ", "ㅐ"], answer: 3, explanation: "저모음은 발음할 때 혀의 위치가 가장 낮은 모음으로, 단모음 중에서는 'ㅐ'와 'ㅏ'가 해당됩니다." },
                        { work: '국어의 음운', type: '자음 체계', question: "다음 중 흐름소리(유음)에 해당하는 자음은?", options: ["ㄴ", "ㄹ", "ㅁ", "ㅇ"], answer: 1, explanation: "흐름소리(유음)는 혀끝을 잇몸에 댄 채 공기를 그 양옆으로 흘려보내면서 내는 소리로, 'ㄹ'이 유일합니다." },
                        { work: '국어의 음운', type: '음운의 기능', question: "음운의 가장 핵심적인 기능은 무엇인가?", options: ["소리를 아름답게 만드는 기능", "단어의 뜻을 구별해 주는 기능", "문법적 관계를 표시하는 기능", "감정을 효과적으로 표현하는 기능"], answer: 1, explanation: "음운의 정의에서 알 수 있듯이, 음운의 가장 기본적이고 핵심적인 기능은 단어의 의미를 분화시키는, 즉 뜻을 구별해 주는 것입니다." }
                    ]
                },
                test2: {
                    title: '실전 테스트 2',
                    questions: [
                        { work: '논증 방법', type: '개념 이해', passage: "• 모든 인간은 죽는다. (대전제)\n• 소크라테스는 인간이다. (소전제)\n• 그러므로 소크라테스는 죽는다. (결론)", question: "위와 같이 일반적인 원리나 법칙에서 구체적인 사실을 이끌어 내는 논증 방법은 무엇인가?", options: ["귀납", "연역", "유추", "변증법"], answer: 1, explanation: "연역 논증은 '모든 인간은 죽는다'와 같은 일반적인 원리나 법칙(대전제)에서 '소크라테스는 죽는다'는 구체적인 사실(결론)을 이끌어 내는 논증 방법입니다." },
                        { work: '논증 방법', type: '개념 이해', question: "개별적이고 구체적인 사례들을 종합하여 일반적인 원리나 결론을 이끌어 내는 논증 방법은?", options: ["연역", "귀납", "유추", "삼단논법"], answer: 1, explanation: "귀납 논증은 여러 구체적인 사례(파스퇴르, 갈릴레이 등)를 근거로 하여 '탐구란 무엇인가'와 같은 일반적인 결론을 도출하는 방식입니다." },
                        { work: '논증 방법', type: '특징 파악', question: "연역 논증의 가장 큰 특징으로 옳은 것은?", options: ["결론이 항상 참인 것은 아니다.", "새로운 지식을 확장하는 데 유용하다.", "전제가 참이면 결론은 반드시 참이다.", "구체적인 사례를 많이 확보하는 것이 중요하다."], answer: 2, explanation: "연역 논증은 전제로 제시된 일반적 원리가 참이고 논증 형식이 타당하다면, 결론은 필연적으로 참이 됩니다." },
                        { work: '논증 방법', type: '특징 파악', question: "귀납 논증의 타당성을 높이기 위한 방법으로 가장 적절한 것은?", options: ["대전제를 명확하게 설정한다.", "결론을 먼저 제시하고 근거를 찾는다.", "하나의 확실한 사례만 집중적으로 분석한다.", "다양하고 대표성 있는 사례를 충분히 수집한다."], answer: 3, explanation: "귀납 논증은 구체적인 사례들로부터 일반적인 결론을 이끌어내므로, 수집된 사례가 다양하고 대표성을 가지며 충분할수록 결론의 타당성이 높아집니다." },
                        { work: '논증 방법', type: '유추', passage: "인생은 마라톤과 같다. 처음에는 뒤처지는 것 같아도 꾸준히 달리면 역전할 수 있다.", question: "위 글에 사용된 논증 방법은 무엇인가?", options: ["연역", "귀납", "유추", "정의"], answer: 2, explanation: "유추는 둘 이상의 대상이 가진 비슷한 속성을 근거로 다른 속성도 유사할 것이라고 추론하는 방법입니다. 위 글은 '인생'과 '마라톤'의 유사점을 들어 주장을 펼치고 있습니다." },
                        { work: '논증 방법', type: '사례 분석', passage: "글 <생명을 불어넣는 마법사의 물>에서 파스퇴르, 갈릴레이, 코페르니쿠스의 사례를 든 이유는 무엇인가?", options: ["글의 재미를 더하기 위해", "과학자들의 위대함을 강조하기 위해", "자신의 주장을 뒷받침하는 구체적인 근거로 제시하기 위해", "글의 분량을 늘리기 위해"], answer: 2, explanation: "글쓴이는 '탐구란 의심에서 시작된다'는 자신의 주장을 뒷받침하기 위한 구체적이고 신뢰성 있는 근거로 세 과학자의 사례를 제시했습니다. 이는 귀납 논증의 전형적인 방식입니다." },
                        { work: '논증 방법', type: '타당성 판단', question: "다음 중 논증의 타당성을 판단하는 기준으로 적절하지 않은 것은?", options: ["주장과 근거가 관련성이 있는가?", "근거가 주장을 뒷받침하기에 충분한가?", "글쓴이의 주관적인 신념이 얼마나 강한가?", "근거로 제시된 내용이 사실에 부합하는가?"], answer: 2, explanation: "논증의 타당성은 주장과 근거 사이의 논리적 관계, 근거의 충분성과 신뢰성 등을 기준으로 판단해야 합니다. 글쓴이의 주관적인 신념의 강도는 논증의 타당성과 직접적인 관련이 없습니다." },
                        { work: '논증 방법', type: '연역 논증의 전제', passage: "모든 사람은 실수를 한다. 나도 사람이므로 실수를 할 수 있다.", question: "위 연역 논증에서 생략된 소전제는 무엇인가?", options: ["나는 실수를 한다.", "나는 사람이다.", "모든 사람은 나와 같다.", "실수는 누구나 할 수 있다."], answer: 1, explanation: "이 논증은 '모든 사람은 실수를 한다(대전제)'와 '나는 사람이다(소전제)'를 근거로 '나는 실수를 할 수 있다(결론)'를 이끌어낸 삼단논법입니다. 따라서 생략된 소전제는 '나는 사람이다'입니다." },
                        { work: '논증 방법', type: '귀납 논증의 한계', question: "귀납 논증이 지닌 본질적인 한계점은 무엇인가?", options: ["결론이 항상 전제에 포함되어 있다.", "결론이 참인지 거짓인지 판단하기 어렵다.", "모든 사례를 조사한 것이 아니므로 결론이 틀릴 가능성이 항상 존재한다.", "너무 논리적이어서 설득력이 떨어질 수 있다."], answer: 2, explanation: "귀납 논증은 일부 사례를 통해 전체에 대한 결론을 내리는 것이므로, 아무리 많은 사례를 관찰했더라도 아직 관찰하지 않은 반대 사례가 나타날 수 있습니다. 따라서 결론이 100% 확실하다고 말할 수 없는 한계가 있습니다." },
                        { work: '논증 방법', type: '유추의 조건', question: "유추 논증의 설득력을 높이기 위해 가장 중요하게 고려해야 할 점은?", options: ["비교하는 두 대상의 본질적인 속성이 유사해야 한다.", "비교하는 두 대상이 완전히 동일해야 한다.", "결론이 독창적이고 참신해야 한다.", "누구나 아는 대상을 비유해야 한다."], answer: 0, explanation: "유추가 설득력을 가지려면 비교되는 두 대상 사이의 유사성이 피상적이거나 우연한 것이 아니라, 주장의 내용과 관련된 본질적인 속성이어야 합니다." },
                        { work: '논증 방법', type: '논증 파악', passage: "우리 반 철수는 아침밥을 거르지 않는다. 그는 항상 활기차다. 영희도 아침밥을 꼭 먹는다. 그녀 역시 건강하다. 따라서 아침밥을 먹는 것은 건강과 활력에 좋다.", question: "이 글에 사용된 논증 방법은?", options: ["연역", "귀납", "유추", "오류"], answer: 1, explanation: "철수와 영희라는 구체적인 사례를 통해 '아침밥을 먹는 것은 건강에 좋다'는 일반적인 결론을 이끌어내고 있으므로 귀납 논증에 해당합니다." },
                        { work: '논증 방법', type: '논증 구조', question: "논증을 구성하는 세 가지 요소에 해당하지 않는 것은?", options: ["주장", "근거", "이유", "예시"], answer: 3, explanation: "논증은 기본적으로 '주장(결론)'과 그것을 뒷받침하는 '근거(전제)', 그리고 근거가 주장을 뒷받침하는 과정인 '이유(방법)'로 구성됩니다. '예시'는 근거의 한 종류일 수 있지만, 필수 구성 요소는 아닙니다." },
                        { work: '논증 방법', type: '연역의 예', question: "다음 중 연역 논증에 해당하는 것은?", options: ["까마귀는 모두 검다. 저 새는 까마귀이므로 검을 것이다.", "내가 본 백조는 모두 하얬다. 따라서 모든 백조는 하얗다.", "원숭이의 지능이 높으니, 비슷한 고릴라의 지능도 높을 것이다.", "에디슨은 노력가였다. 그는 위대한 발명가가 되었다. 노력은 성공의 어머니다."], answer: 0, explanation: "'모든 까마귀는 검다'는 일반적 원리에서 '저 까마귀'라는 구체적 대상의 속성을 이끌어냈으므로 연역 논증입니다." },
                        { work: '논증 방법', type: '귀납의 예', question: "다음 중 귀납 논증에 해당하는 것은?", options: ["모든 금속은 전기가 통한다. 구리는 금속이므로 전기가 통한다.", "어제 해는 동쪽에서 떴다. 오늘도 동쪽에서 떴다. 내일도 동쪽에서 뜰 것이다.", "사람은 동물이므로 죽는다.", "소통은 갈등을 해결한다. 층간소음은 갈등이므로 소통으로 해결할 수 있다."], answer: 1, explanation: "과거와 현재의 반복적인 관찰(경험)을 바탕으로 미래의 일을 예측하는 것은 귀납 논증의 한 형태입니다." },
                        { work: '논증 방법', type: '타당성 판단', passage: "우리 동네 A치킨은 맛있다. 옆 동네 B치킨도 맛있다. 따라서 우리나라의 모든 치킨은 맛있다.", question: "위 논증의 문제점으로 가장 적절한 것은?", options: ["전제가 거짓이다.", "주장과 근거의 관련성이 없다.", "성급한 일반화의 오류를 범했다.", "유추의 대상을 잘못 선택했다."], answer: 2, explanation: "단 두 개의 치킨 가게 사례만으로 우리나라의 모든 치킨이 맛있다고 결론 내리는 것은, 불충분한 근거를 바탕으로 성급하게 일반화하는 오류입니다." },
                        { work: '논증 방법', type: '개념 구분', question: "주장과 근거의 관계를 통해 글의 논리적 흐름을 파악하며 읽는 방법을 무엇이라고 하는가?", options: ["사실적 읽기", "추론적 읽기", "비판적 읽기", "감상적 읽기"], answer: 2, explanation: "글에 사용된 논증 방법을 분석하고 그 타당성을 판단하며 읽는 것은, 글의 내용을 깊이 있게 평가하는 '비판적 읽기'에 해당합니다." },
                        { work: '논증 방법', type: '연역의 구조', question: "연역 논증의 대표적인 형식인 삼단논법은 무엇으로 구성되는가?", options: ["대전제, 소전제, 결론", "주장, 근거, 반론", "사례1, 사례2, 일반화", "문제, 원인, 해결책"], answer: 0, explanation: "삼단논법은 '모든 M은 P이다(대전제)', 'S는 M이다(소전제)', '그러므로 S는 P이다(결론)'와 같이 대전제, 소전제, 결론의 세 부분으로 구성됩니다." },
                        { work: '논증 방법', type: '유추의 타당성', passage: "A회사의 신제품은 디자인이 좋아서 성공했다. 우리 회사 신제품도 디자인이 좋으니 성공할 것이다.", question: "위 유추 논증이 타당하기 위해 추가로 고려해야 할 점은?", options: ["두 회사의 규모", "제품의 가격과 성능, 마케팅 전략 등 다른 유사점", "디자이너의 경력", "제품의 출시 시기"], answer: 1, explanation: "단순히 디자인이 좋다는 점 외에, 성공에 영향을 미치는 다른 본질적인 요소들(가격, 성능, 마케팅 등)이 유사할수록 이 유추의 타당성은 높아집니다." },
                        { work: '논증 방법', type: '논증의 목적', question: "글쓴이가 논증 방법을 사용하는 가장 근본적인 목적은 무엇인가?", options: ["자신의 지식을 과시하기 위해", "독자에게 감동을 주기 위해", "자신의 주장에 대한 설득력을 높이기 위해", "글을 복잡하고 어렵게 만들기 위해"], answer: 2, explanation: "논증은 근거를 들어 자신의 주장이 타당함을 증명하는 과정으로, 궁극적으로 독자를 설득하여 자신의 주장을 받아들이게 하는 데 목적이 있습니다." },
                        { work: '논증 방법', type: '연역의 한계', question: "연역 논증이 새로운 지식을 만들어 내는 데 한계가 있는 이유는 무엇인가?", options: ["전제가 항상 참이 아니기 때문에", "논증 과정이 너무 복잡하기 때문에", "결론의 내용이 이미 전제 속에 포함되어 있기 때문에", "사례를 찾기 어렵기 때문에"], answer: 2, explanation: "연역 논증의 결론은 이미 대전제와 소전제에 담겨 있는 내용을 재확인하는 것이므로, 전제를 넘어서는 새로운 사실이나 지식을 창출하지는 못합니다." },
                        { work: '논증 방법', type: '귀납적 탐구', question: "과학적 탐구 과정에서 가설을 설정하고 실험을 통해 검증하는 방법은 주로 어떤 논증 방식에 기반하는가?", options: ["연역", "귀납", "유추", "권위"], answer: 1, explanation: "과학적 탐구는 여러 관찰과 실험이라는 구체적인 데이터를 통해 일반적인 법칙이나 이론을 이끌어내는 과정이므로, 본질적으로 귀납적 논증 방식에 기반합니다." },
                        { work: '논증 방법', type: '논증과 주장', question: "논증적인 글에서 '주장'이 갖추어야 할 조건으로 적절하지 않은 것은?", options: ["명확하고 간결해야 한다.", "논란의 여지가 있는 내용이어야 한다.", "증명이 가능한 내용이어야 한다.", "글쓴이의 개인적인 느낌이어야 한다."], answer: 3, explanation: "논증의 주장은 객관적인 근거를 통해 증명될 수 있는 것이어야 합니다. 개인적인 느낌이나 감상은 논증의 대상이 되기 어렵습니다." },
                        { work: '논증 방법', type: '연역의 타당성', passage: "모든 새는 날 수 있다. 펭귄은 새다. 따라서 펭귄은 날 수 있다.", question: "위 논증에 대한 평가로 가장 적절한 것은?", options: ["논증 형식은 타당하지만 결론은 거짓이다.", "논증 형식과 결론 모두 타당하다.", "대전제가 참이므로 결론도 참이다.", "소전제가 거짓이므로 결론도 거짓이다."], answer: 0, explanation: "이 논증은 삼단논법의 형식을 정확히 따랐으므로 논리적 형식은 타당합니다. 하지만 '모든 새는 날 수 있다'는 대전제가 사실이 아니므로(날지 못하는 새도 있으므로), 결론은 거짓이 됩니다." },
                        { work: '논증 방법', type: '논증의 종류', question: "다음 중 성격이 다른 논증 방법 하나는?", options: ["연역", "귀납", "유추", "통계적 삼단논법"], answer: 0, explanation: "귀납, 유추, 통계적 삼단논법은 모두 개별 사례에서 일반적 결론을 이끌어내는 귀납적 방식에 속합니다. 반면 연역은 일반 원리에서 개별 사례를 이끌어냅니다." },
                        { work: '논증 방법', type: '글의 구조 파악', question: "글 전체가 '문제 제기 - 원인 분석 - 해결 방안'의 구조로 되어 있다면, 각 단계는 논증의 어떤 요소에 해당한다고 볼 수 있는가?", options: ["주장 - 근거 - 반론", "결론 - 전제 - 가정", "문제 상황 - 주장 - 근거", "주장 - 근거 - 부연 설명"], answer: 2, explanation: "문제 상황을 제시하고, 그 원인을 분석하여(근거), 해결 방안을 제시하는(주장) 구조로 볼 수 있습니다. 즉, 문제와 원인 분석이 주장을 뒷받침하는 근거의 역할을 합니다." }
                    ]
                },
                test3: {
                    title: '실전 테스트 3',
                    questions: [
                        { work: '설득 전략', type: '개념 이해', question: "말하는 이가 듣는 이의 신념, 태도, 행동을 변화시키려는 목적으로 사용하는 방법을 통틀어 무엇이라고 하는가?", options: ["논증 전략", "설득 전략", "표현 전략", "공감 전략"], answer: 1, explanation: "설득 전략은 말하는 이가 듣는 이의 생각이나 행동을 바꾸려는 목적으로 사용하는 모든 방법을 의미하며, 이성적, 감성적, 인성적 전략 등이 있습니다." },
                        { work: '설득 전략', type: '종류 구분', question: "설득 전략 중, 논리적인 근거, 통계 자료, 전문가의 의견 등을 사용하여 주장을 뒷받침하는 전략은?", options: ["이성적 설득", "감성적 설득", "인성적 설득", "권위적 설득"], answer: 0, explanation: "이성적 설득은 듣는 이의 이성에 호소하여 주장을 논리적으로 증명하고 설득하는 방법입니다." },
                        { work: '설득 전략', type: '종류 구분', question: "듣는 이의 동정심, 분노, 자긍심, 유머 감각 등 감정에 호소하여 마음을 움직이는 설득 전략은?", options: ["이성적 설득", "감성적 설득", "인성적 설득", "논리적 설득"], answer: 1, explanation: "감성적 설득은 논리보다는 듣는 이의 감정을 자극하여 주장을 받아들이게 하는 방법입니다." },
                        { work: '설득 전략', type: '종류 구분', question: "말하는 이의 전문성, 도덕성, 사회성 등 사람 됨됨이를 바탕으로 듣는 이에게 신뢰를 주는 설득 전략은?", options: ["이성적 설득", "감성적 설득", "인성적 설득", "관계적 설득"], answer: 2, explanation: "인성적 설득은 말하는 사람 자체에 대한 믿음을 통해 그의 주장을 신뢰하게 만드는 방법입니다." },
                        { work: '설득 전략', type: '사례 분석', passage: "강연 <힘들 때 힘을 빼면 힘이 생긴다>에서 강연자가 야구 경기에서 포수가 투수에게 농담을 건넨 일화를 소개한 것은 어떤 설득 전략에 해당하는가?", options: ["이성적 설득", "감성적 설득", "인성적 설득", "논리적 설득"], answer: 1, explanation: "이 일화는 긴장된 상황에서 힘을 빼는 것이 필요하다는 주장을 뒷받침하는 구체적인 사례(이성적 설득)이면서, 동시에 흥미로운 이야기로 듣는 이의 공감과 재미(감성적 설득)를 유발합니다. 두 가지 전략이 복합적으로 사용되었습니다." },
                        { work: '설득 전략', type: '사례 분석', passage: "강연자는 '저는 카피라이터 출신'이라고 밝히며 자신의 직업적 전문성을 드러냈다.", question: "이는 어떤 설득 전략을 활용한 것인가?", options: ["이성적 설득", "감성적 설득", "인성적 설득", "유추 전략"], answer: 2, explanation: "자신의 전문성을 드러내어 말하는 내용에 대한 신뢰도를 높이는 것은 인성적 설득 전략에 해당합니다." },
                        { work: '설득 전략', type: '사례 분석', passage: "광고에서 아프리카의 굶주리는 아이의 슬픈 눈망울을 클로즈업해서 보여주며 후원을 요청한다.", question: "이 광고는 어떤 설득 전략을 주로 사용했는가?", options: ["이성적 설득", "감성적 설득", "인성적 설득", "비교 대조 전략"], answer: 1, explanation: "아이의 슬픈 모습을 보여주어 보는 사람의 동정심과 연민을 자극하는 것은 감성적 설득 전략의 대표적인 예입니다." },
                        { work: '설득 전략', type: '타당성 판단', question: "설득하는 말을 들을 때 비판적으로 들어야 하는 이유로 가장 적절한 것은?", options: ["말하는 이의 실수를 찾아내기 위해", "자신의 생각과 다른 점을 비난하기 위해", "주장과 근거의 타당성을 판단하여 합리적으로 수용하기 위해", "모든 주장에 반대 의견을 제시하기 위해"], answer: 2, explanation: "비판적 듣기는 무조건적인 비난이 아니라, 제시된 주장과 근거를 논리적으로 분석하고 타당성을 평가하여 그 내용을 합리적으로 받아들일지 결정하는 과정입니다." },
                        { work: '설득 전략', type: '표현 전략', question: "말하는 이가 표정, 시선, 손짓, 몸짓 등을 활용하여 내용을 전달하는 것은 어떤 표현 요소에 해당하는가?", options: ["언어적 요소", "준언어적 요소", "비언어적 요소", "매체적 요소"], answer: 2, explanation: "표정, 시선, 몸짓 등은 언어 자체는 아니지만 의사소통에 중요한 영향을 미치는 '비언어적 요소'입니다." },
                        { work: '설득 전략', type: '표현 전략', question: "말소리의 크기, 높낮이, 속도, 억양 등을 조절하여 설득력을 높이는 것은 어떤 표현 요소에 해당하는가?", options: ["언어적 요소", "준언어적 요소", "비언어적 요소", "문법적 요소"], answer: 1, explanation: "말에 실려 나오는 목소리의 특징들, 즉 어조, 억양, 속도, 크기 등은 언어에 준한다는 의미에서 '준언어적 요소'라고 합니다." },
                        { work: '설득 전략', type: '이성적 설득', question: "이성적 설득 전략에 해당하지 않는 것은?", options: ["신뢰할 만한 통계 자료 제시", "전문가의 연구 결과 인용", "역사적 사실을 근거로 제시", "듣는 이의 동정심에 호소"], answer: 3, explanation: "듣는 이의 동정심에 호소하는 것은 감정을 자극하는 것이므로 감성적 설득 전략에 해당합니다." },
                        { work: '설득 전략', type: '감성적 설득', question: "다음 중 감성적 설득 전략을 사용한 예로 가장 적절한 것은?", options: ["청소년 흡연율이 지난 5년간 20% 증가했습니다.", "이 제품을 사용하면 당신도 연예인처럼 아름다워질 수 있습니다.", "헌법 제1조에 따르면 대한민국의 주권은 국민에게 있습니다.", "제 주장은 저명한 경제학자 A의 이론에 근거합니다."], answer: 1, explanation: "아름다워지고 싶은 소비자의 욕망을 자극하는 것은 감성적 설득 전략에 해당합니다." },
                        { work: '설득 전략', type: '인성적 설득', question: "다음 중 인성적 설득 전략의 효과를 높이는 방법으로 거리가 먼 것은?", options: ["진솔하고 솔직한 태도로 말한다.", "자신이 해당 분야의 전문가임을 밝힌다.", "평소 도덕적이고 신뢰감 있는 모습을 보인다.", "자신의 주장을 강압적으로 전달한다."], answer: 3, explanation: "강압적인 태도는 듣는 이에게 반감을 주어 말하는 사람에 대한 신뢰도를 떨어뜨리므로, 인성적 설득에 부정적인 영향을 미칩니다." },
                        { work: '설득 전략', type: '균형', question: "효과적인 설득을 위해 세 가지 설득 전략(이성적, 감성적, 인성적)을 어떻게 활용해야 하는가?", options: ["이성적 전략만 사용해야 한다.", "감성적 전략만 사용해야 한다.", "인성적 전략만 사용해야 한다.", "상황과 대상에 맞게 균형 있게 사용해야 한다."], answer: 3, explanation: "성공적인 설득은 듣는 이의 이성, 감성, 그리고 말하는 이에 대한 신뢰를 모두 만족시킬 때 이루어집니다. 따라서 상황에 맞게 세 전략을 조화롭게 사용하는 것이 가장 효과적입니다." },
                        { work: '설득 전략', type: '비판적 듣기', passage: "저 후보는 가난한 집안 출신이고 눈물도 많습니다. 그러니 우리의 아픔을 잘 이해해 줄 좋은 정치인임에 틀림없습니다.", question: "위 주장에 대해 비판적으로 검토해야 할 내용으로 가장 적절한 것은?", options: ["정말로 가난한 집안 출신인지 확인해야 한다.", "감정에 호소하는 전략이 정치인의 자질과 직접적인 관련이 있는지 따져보아야 한다.", "저 후보의 나이를 확인해야 한다.", "다른 후보들도 눈물이 많은지 비교해야 한다."], answer: 1, explanation: "가난한 출신이거나 눈물이 많다는 사실(감성적 자극)이 유능하고 정직한 정치인의 자질(주장)을 보장하는 것은 아닙니다. 이처럼 감성에만 호소하는 주장의 논리적 비약을 비판적으로 검토해야 합니다." },
                        { work: '설득 전략', type: '언어적 표현', question: "듣는 이가 청소년일 때, '고리타분하다' 대신 '핵노잼이다'라는 표현을 사용하는 것은 설득 전략 중 무엇을 고려한 것인가?", options: ["말하는 이의 전문성", "듣는 이의 특성(연령, 관심사)", "말하는 상황의 공식성", "주장의 논리성"], answer: 1, explanation: "듣는 이의 연령대와 문화적 특성을 고려하여 그들에게 친숙한 어휘를 사용하는 것은 공감대를 형성하고 설득 효과를 높이는 중요한 전략입니다." },
                        { work: '설득 전략', type: '유머의 효과', question: "설득 과정에서 유머를 사용하는 것의 효과로 적절하지 않은 것은?", options: ["듣는 이의 긴장을 풀어주고 긍정적인 분위기를 만든다.", "말하는 이에 대한 친밀감과 호감을 높인다.", "주장에 대한 논리적 근거를 완벽하게 대체할 수 있다.", "전달하려는 내용을 더 오래 기억하게 할 수 있다."], answer: 2, explanation: "유머는 분위기를 부드럽게 하고 호감을 높이는 등 긍정적 효과가 크지만, 주장을 뒷받침하는 논리적인 근거 자체를 대체할 수는 없습니다. 논리적 설득과 함께 사용될 때 효과가 극대화됩니다." },
                        { work: '설득 전략', type: '공포 소구', passage: "지금처럼 환경을 파괴한다면, 10년 안에 우리 아이들은 방독면 없이는 숨을 쉴 수 없는 세상에서 살게 될 것입니다.", question: "위와 같이 부정적인 결과를 강조하여 듣는 이에게 경각심을 주는 전략은?", options: ["이성적 설득", "공포에 호소하는 감성적 설득", "인성적 설득", "유머 소구"], answer: 1, explanation: "공포 소구(Fear Appeal)는 듣는 이에게 위협이나 공포심을 유발하여, 그러한 부정적 결과를 피하기 위해 말하는 이의 주장을 따르도록 유도하는 감성적 설득 전략의 일종입니다." },
                        { work: '설득 전략', type: '종합적 분석', passage: "한 의사가 TV에 나와 하얀 가운을 입고 복잡한 의학 용어와 차트를 보여주며 특정 영양제의 효능을 설명했다.", question: "이 의사가 사용한 설득 전략으로 보기 어려운 것은?", options: ["이성적 설득(차트, 용어)", "감성적 설득(건강에 대한 불안감 자극)", "인성적 설득(의사, 흰 가운)", "유머를 통한 설득"], answer: 3, explanation: "의사라는 직업과 흰 가운(인성적), 차트와 용어(이성적), 건강에 대한 불안감 자극(감성적) 전략은 모두 사용되었을 가능성이 높지만, 주어진 정보만으로는 유머 전략이 사용되었다고 보기 어렵습니다." },
                        { work: '설득 전략', type: '비언어적 요소', question: "자신감 있는 주장을 펼칠 때 가장 효과적인 비언어적 표현은?", options: ["불안하게 시선을 피한다.", "팔짱을 끼고 방어적인 자세를 취한다.", "듣는 이와 골고루 눈을 맞추며 당당한 자세를 유지한다.", "주머니에 손을 넣고 말한다."], answer: 2, explanation: "듣는 이와의 적절한 시선 맞춤과 당당하고 개방적인 자세는 말하는 내용에 대한 자신감과 진실성을 전달하여 설득력을 높입니다." },
                        { work: '설득 전략', type: '준언어적 요소', question: "중요한 내용을 강조하여 전달할 때 가장 효과적인 준언어적 표현 방법은?", options: ["목소리를 점점 작게 말한다.", "매우 빠른 속도로 말한다.", "다른 부분보다 조금 더 천천히, 힘주어 말한다.", "아무런 억양 없이 단조롭게 말한다."], answer: 2, explanation: "강조하고 싶은 부분에서 말의 속도를 늦추고 목소리에 힘을 주어 말하면, 듣는 이의 주의를 집중시키고 해당 내용의 중요성을 효과적으로 전달할 수 있습니다." },
                        { work: '설득 전략', type: '설득의 윤리', question: "설득하는 말을 할 때 지켜야 할 윤리적 태도로 적절하지 않은 것은?", options: ["사실에 근거하여 정확한 정보를 전달한다.", "자신의 이익을 위해 정보를 의도적으로 왜곡하거나 숨긴다.", "상대방의 인격을 존중하며 예의를 갖춘다.", "자신이 한 말에 대해 책임감을 갖는다."], answer: 1, explanation: "설득은 상대방을 속이는 것이 아닙니다. 의도적으로 정보를 왜곡하거나 숨기는 것은 비윤리적인 행위이며, 장기적으로 말하는 이에 대한 신뢰를 무너뜨립니다." },
                        { work: '설득 전략', type: '전략의 관계', question: "이성적, 감성적, 인성적 설득 전략의 관계에 대한 설명으로 가장 옳은 것은?", options: ["세 전략은 서로 완전히 독립적이다.", "하나의 전략만 사용해야 효과적이다.", "세 전략은 상호 보완적으로 작용하며 설득 효과를 높인다.", "인성적 전략이 가장 중요하므로 다른 전략은 필요 없다."], answer: 2, explanation: "효과적인 설득은 세 가지 요소가 조화를 이룰 때 나타납니다. 예를 들어, 논리적인 주장(이성적)을 신뢰할 만한 사람(인성적)이 감동적인 이야기(감성적)와 함께 전달할 때 설득력은 극대화됩니다." },
                        { work: '설득 전략', type: '목적 파악', question: "설득하는 말을 들을 때, 가장 먼저 파악해야 할 것은 무엇인가?", options: ["말하는 이의 옷차림", "말하는 이의 숨겨진 의도나 목적", "사용된 통계 자료의 출처", "배경 음악의 종류"], answer: 1, explanation: "말하는 이가 어떤 의도와 목적을 가지고 나를 설득하려 하는지 파악하는 것이, 그 내용을 비판적으로 이해하고 수용 여부를 결정하는 첫걸음입니다." },
                        { work: '설득 전략', type: '종합 적용', question: "학급 회의에서 '스마트폰 사용 시간 줄이기'를 건의하려고 한다. 다음 중 가장 설득력 있는 발표 구성은?", options: ["\"그냥 줄입시다! 다들 너무 많이 써요!\"라고 소리친다.", "스마트폰 과다 사용의 문제점을 다룬 뉴스 기사와 우리 반 학생들의 하루 평균 사용 시간 통계를 보여준 후, 함께 실천할 수 있는 구체적인 규칙을 제안한다.", "유명 연예인이 스마트폰을 멀리해서 성공했다는 이야기만 들려준다.", "스마트폰의 장점만 나열한다."], answer: 1, explanation: "객관적인 자료(뉴스, 통계)를 통해 문제의 심각성을 알리고(이성적 설득), 함께 실천할 수 있는 대안을 제시하는 것이 가장 논리적이고 설득력 있는 방법입니다." }
                    ]
                }
            };
        
            const tabContainer = document.getElementById('tab-container');
            const contentArea = document.getElementById('content-area');

            function renderTest(testId, test) {
                let questionsHtml = '';
                test.questions.forEach((q, index) => {
                    const optionsHtml = q.options.map((opt, i) => `
                        <div class="mt-2">
                            <input type="radio" name="question${index}" id="q${index}o${i}" value="${i}">
                            <label for="q${index}o${i}" class="option-label">
                                <span class="font-mono mr-2">${i + 1}</span> ${opt}
                            </label>
                        </div>
                    `).join('');
                    questionsHtml += `
                        <div class="question-card" data-work="${q.work}" data-type="${q.type}" data-answer="${q.answer}">
                            <div class="mb-4">
                                <span class="inline-block bg-indigo-100 text-indigo-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded-full">${q.work}</span>
                                <span class="inline-block bg-gray-100 text-gray-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded-full">${q.type}</span>
                            </div>
                            <h3 class="font-semibold text-lg mb-2 text-gray-800">${index + 1}. ${q.question}</h3>
                            ${q.passage ? `<div class="prose-box">${q.passage}</div>` : ''}
                            <div class="space-y-2">${optionsHtml}</div>
                        </div>
                    `;
                });
                
                contentArea.innerHTML = `
                    <div id="test-container">
                        <div class="bg-white p-6 rounded-lg shadow-md mb-8">
                            <label for="student-name" class="block text-lg font-semibold text-gray-700 mb-2">이름을 입력하세요:</label>
                            <input type="text" id="student-name" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="이름">
                        </div>
                        ${questionsHtml}
                        <div class="text-center mt-8">
                            <button id="submit-btn" class="bg-indigo-600 text-white font-bold py-3 px-8 rounded-lg text-lg hover:bg-indigo-700 transition duration-300">제출하기</button>
                        </div>
                    </div>
                    <div id="result-container" class="hidden"></div>
                `;
                
                document.getElementById('submit-btn').addEventListener('click', () => handleSubmit(testId));
            }

            function renderResults(name, score, correctCount, questions, userAnswers, weakestWork, weakestType) {
                let detailedResultsHtml = '<h3 class="text-2xl font-bold text-gray-800 mb-6 border-b pb-3">상세 해설</h3>';
                questions.forEach((q, index) => {
                    const userAnswer = userAnswers[index];
                    const isCorrect = userAnswer === q.answer;
                    
                    const optionsHtml = q.options.map((opt, i) => {
                        let labelClass = "option-label";
                        if(i === q.answer) {
                            labelClass += " correct";
                        } else if (i === userAnswer && !isCorrect) {
                            labelClass += " incorrect";
                        }
                        
                        return `<div class="mt-2"><div class="${labelClass}"><span class="font-mono mr-2">${i + 1}</span> ${opt}</div></div>`;
                    }).join('');

                    detailedResultsHtml += `
                        <div class="question-card">
                             <div class="mb-4">
                                <span class="inline-block bg-indigo-100 text-indigo-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded-full">${q.work}</span>
                                <span class="inline-block bg-gray-100 text-gray-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded-full">${q.type}</span>
                            </div>
                            <h4 class="font-semibold text-lg mb-2">${isCorrect ? '<span class="text-green-600 font-bold">[정답]</span>' : '<span class="text-red-600 font-bold">[오답]</span>'} ${index + 1}. ${q.question}</h4>
                            ${q.passage ? `<div class="prose-box">${q.passage}</div>` : ''}
                            <div class="space-y-2">${optionsHtml}</div>
                            <div class="mt-4 p-4 bg-gray-50 rounded-md">
                                <p class="font-semibold text-gray-700">해설</p>
                                <p class="text-gray-600 text-sm mt-1">${q.explanation}</p>
                            </div>
                        </div>
                    `;
                });
                
                const resultContainer = document.getElementById('result-container');
                resultContainer.innerHTML = `
                    <div class="question-card text-center">
                        <h2 class="text-3xl font-bold text-gray-800 mb-2">시험 결과: ${name} 학생</h2>
                        <p class="text-6xl font-bold text-indigo-600 my-6">${score}<span class="text-3xl text-gray-500">점</span></p>
                        <p class="text-lg text-gray-700">${questions.length}문제 중 ${correctCount}문제 정답</p>
                        <div id="submission-status"></div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mt-8">
                         <div class="question-card">
                            <h3 class="text-xl font-bold text-gray-800 mb-4">취약점 분석</h3>
                            <div class="space-y-3">
                                <p class="text-gray-700"><strong>가장 많이 틀린 영역:</strong> <span class="font-semibold text-red-600">${weakestWork}</span></p>
                                <p class="text-gray-700"><strong>가장 많이 틀린 유형:</strong> <span class="font-semibold text-red-600">${weakestType}</span></p>
                            </div>
                         </div>
                         <div class="question-card">
                            <h3 class="text-xl font-bold text-gray-800 mb-4">학습 가이드</h3>
                            <p class="text-gray-700">'${weakestWork}' 영역의 기본 개념을 다시 한번 꼼꼼히 복습하고, '${weakestType}' 유형의 문제 풀이 전략을 보충하는 것이 좋겠습니다. 오답 노트를 작성하여 틀린 문제를 완벽하게 이해하는 것이 중요합니다.</p>
                         </div>
                    </div>

                    <div class="mt-12">${detailedResultsHtml}</div>
                `;
                resultContainer.classList.remove('hidden');
            }

            async function sendDataToGoogleSheet(data) {
                const statusDiv = document.getElementById('submission-status');
                if (!SCRIPT_URL) {
                    console.error("Google Apps Script URL이 설정되지 않았습니다.");
                    if(statusDiv) {
                        statusDiv.textContent = '결과 전송 URL이 설정되지 않았습니다. 관리자에게 문의하세요.';
                        statusDiv.className = 'error';
                        statusDiv.style.display = 'block';
                    }
                    return;
                }

                try {
                    await fetch(SCRIPT_URL, {
                        method: 'POST',
                        mode: 'no-cors', // CORS 에러 방지를 위해 추가
                        body: JSON.stringify(data),
                        headers: {
                            'Content-Type': 'application/json',
                        },
                    });
                    
                    if(statusDiv) {
                        statusDiv.textContent = '성공적으로 제출되었습니다!';
                        statusDiv.className = 'success';
                        statusDiv.style.display = 'block';
                    }
                } catch (error) {
                     if(statusDiv) {
                        statusDiv.textContent = '제출 중 오류가 발생했습니다. 다시 시도해주세요.';
                        statusDiv.className = 'error';
                        statusDiv.style.display = 'block';
                    }
                    console.error('Error:', error);
                }
            }
            
            function handleSubmit(testId) {
                const studentName = document.getElementById('student-name').value.trim();
                if (!studentName) {
                    const nameInput = document.getElementById('student-name');
                    nameInput.classList.add('border-red-500', 'focus:ring-red-500');
                    nameInput.placeholder = "이름을 먼저 입력해주세요!";
                    nameInput.focus();
                    return;
                }

                const questions = examData[testId].questions;
                const questionElements = document.querySelectorAll('.question-card');
                let correctCount = 0;
                const userAnswers = [];
                const analysis = { byWork: {}, byType: {} };

                questionElements.forEach((qEl, index) => {
                    const selected = qEl.querySelector(`input[name="question${index}"]:checked`);
                    const userAnswer = selected ? parseInt(selected.value) : -1;
                    userAnswers.push(userAnswer);
                    
                    const correctAnswer = parseInt(qEl.dataset.answer);
                    const work = qEl.dataset.work;
                    const type = qEl.dataset.type;

                    if (userAnswer === correctAnswer) {
                        correctCount++;
                    } else {
                        analysis.byWork[work] = (analysis.byWork[work] || 0) + 1;
                        analysis.byType[type] = (analysis.byType[type] || 0) + 1;
                    }
                });

                const score = Math.round((correctCount / questions.length) * 100);
                
                const findWeakest = (data) => {
                    let weakest = '없음';
                    let maxErrors = 0;
                    for (const key in data) {
                        if (data[key] > maxErrors) {
                            maxErrors = data[key];
                            weakest = key;
                        }
                    }
                    return weakest;
                };

                const weakestWork = findWeakest(analysis.byWork);
                const weakestType = findWeakest(analysis.byType);

                const resultData = {
                    timestamp: new Date().toLocaleString("ko-KR"),
                    studentName: studentName,
                    testTitle: examData[testId].title,
                    score: score,
                    correctCount: correctCount,
                    totalQuestions: questions.length,
                    weakestWork: weakestWork,
                    weakestType: weakestType,
                };
                
                sendDataToGoogleSheet(resultData);

                document.getElementById('test-container').classList.add('hidden');
                renderResults(studentName, score, correctCount, questions, userAnswers, weakestWork, weakestType);
            }

            function switchTab(testId) {
                document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                const currentTab = document.querySelector(`.tab[data-id="${testId}"]`);
                if(currentTab) currentTab.classList.add('active');

                contentArea.innerHTML = '';
                const test = examData[testId];

                if (test.questions && test.questions.length > 0) {
                    renderTest(testId, test);
                } else {
                    contentArea.innerHTML = `
                        <div class="question-card text-center py-20">
                            <h2 class="text-3xl font-bold text-gray-800 mb-4">${test.title}</h2>
                            <p class="text-gray-600 text-lg">시험지가 준비 중입니다.</p>
                        </div>
                    `;
                }
            }
            
            // --- Initialization ---
            const tests = Object.keys(examData);
            tests.forEach((testId) => {
                const tab = document.createElement('a');
                tab.className = 'tab';
                tab.textContent = examData[testId].title;
                tab.dataset.id = testId;
                tab.addEventListener('click', () => switchTab(testId));
                tabContainer.appendChild(tab);
            });
            
            // 초기 로드 시 첫 번째 탭 활성화
            if (tests.length > 0) {
                switchTab(tests[0]);
            }
        });
    </script>
</body>
</html>
